# PWA لإدارة البقالة - يعمل دون اتصال

هذا المشروع هو تطبيق ويب تقدمي (PWA) أحادي الصفحة وموجه للعمل دون اتصال بالإنترنت، مصمم لإدارة محلات البقالة الصغيرة.

هذا هو التسليم للمرحلة الأولى، والذي يتضمن الهيكل الأساسي للتطبيق، ودعم العمل دون اتصال، ومخطط قاعدة البيانات، وآلية تحميل البيانات العيّنة.

## كيفية تشغيل المشروع على Termux

لتشغيل هذا المشروع محليًا، تحتاج إلى خادم ويب بسيط لخدمة الملفات.

1.  **السماح بالوصول إلى التخزين (إذا كنت تستخدم Termux لأول مرة):**
    ```bash
    termux-setup-storage
    ```

2.  **تثبيت الأدوات اللازمة:**
    ```bash
    pkg install nodejs python
    ```

3.  **الانتقال إلى مجلد المشروع:**
    استبدل `/path/to/your/project` بالمسار الفعلي لمجلد المشروع.
    ```bash
    cd /path/to/your/project
    ```

4.  **تشغيل الخادم المحلي (اختر خيارًا واحدًا):**

    *   **الخيار 1 (الموصى به لبساطته): استخدام Python**
        ```bash
        python3 -m http.server 8000
        ```

    *   **الخيار 2: استخدام `http-server` مع Node.js**
        إذا لم يكن مثبتًا، قم بتثبيته أولاً: `npm install -g http-server`
        ```bash
        http-server -p 8000
        ```

5.  **فتح التطبيق:**
    افتح متصفح Chrome (أو أي متصفح حديث) على جهازك وانتقل إلى العنوان:
    `http://localhost:8000`

## معايير القبول للمرحلة الأولى

*   **التحقق من العمل دون اتصال:**
    1.  قم بتحميل التطبيق مرة واحدة أثناء الاتصال بالإنترنت.
    2.  اقطع الاتصال بالإنترنت (Wi-Fi وبيانات الجوال).
    3.  أعد تحميل الصفحة. **يجب أن يستمر التطبيق في العمل.**
    4.  انقر فوق زر "تحميل بيانات عيّنة". **يجب أن يتم تحميل البيانات بنجاح في قاعدة البيانات.**

*   **التحقق من قاعدة البيانات:**
    1.  في متصفح Chrome على سطح المكتب (أو باستخدام تصحيح أخطاء USB للجوال)، افتح DevTools.
    2.  انتقل إلى `Application > Storage > IndexedDB`.
    3.  تأكد من وجود قاعدة بيانات باسم `grocery-app-db`.
    4.  تأكد من أنها تحتوي على جميع المتاجر المحددة: `products`, `sales`, `purchases`, `suppliers`, `customers`, `users`, `settings`, `counters`.
